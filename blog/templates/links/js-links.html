<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
<script>
    $(document).ready(function() {
        function updateText(btn, new_count, verb) {
            btn.text(verb + ' - ' + new_count);
        }

        $('.like-btn').click(function(e) {
            e.preventDefault();
            var this_ = $(this);
            var like_url = this_.attr('data-href');
            var like_count = parseInt(this_.attr('data-likes'));
            var add_like = like_count + 1;
            var remove_like = like_count - 1;
            if (like_url){
                $.ajax({
                    url: like_url, 
                    method: 'GET',
                    data: {},
                    success: function(data) {
                        if (data.liked){
                            updateText(this_, data.likescount, 'Unlike');
                        } else {
                            updateText(this_, data.likescount, 'Like');
                        }
                    }
                })
            }
        })
    })
</script>